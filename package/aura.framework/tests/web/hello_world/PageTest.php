<?php
namespace aura\framework\web\hello_world;
use aura\signal\Manager as SignalManager;
use aura\signal\HandlerFactory;
use aura\signal\ResultFactory;
use aura\signal\ResultCollection;
use aura\web\Context;
use aura\web\ResponseTransfer;

/**
 * Test class for Page.
 * Generated by PHPUnit on 2011-05-27 at 11:01:03.
 */
class PageTest extends \PHPUnit_Framework_TestCase
{
    /**
     * @var Page
     */
    protected $page;

    protected function newPage($params = array())
    {
        return new Page(
            new Context($GLOBALS),
            new SignalManager(new HandlerFactory, new ResultFactory, new ResultCollection),
            new ResponseTransfer,
            $params
        );
    }
    
    /**
     * @todo Implement testActionIndex().
     */
    public function testActionIndex()
    {
        $page = $this->newPage(array(
            'action' => 'index',
        ));
        $xfer = $page->exec();
        
        $this->assertType('aura\web\ResponseTransfer', $xfer);
        $this->assertSame(200, $xfer->getStatusCode());
        $this->assertSame('index', $xfer->getView());
    }
}
